@model IEnumerable<MyClass.Model.ProductInfo>
@{
    ViewBag.Title = "Chi tiết sản phẩm";
    Layout = "~/Views/Shared/_LayoutSite.cshtml";
}
<style>
    .img-move {
        height: 580px;
    }
    figure.zoom {
        background-position: 50% 50%;
        position: relative;
        overflow: hidden;
        cursor: zoom-in;
    }

        figure.zoom img:hover {
            opacity: 0;
        }

        figure.zoom img {
            transition: opacity 0.5s;
            display: block;
            width: 100%;
        }
</style>
<body>
    @foreach (var product in Model)
    {
        <!--================Single Product Area =================-->
        <div class="product_image_area">
            <div class="container">
                <div class="row s_product_inner">
                    <div class="col-lg-6 mt-5">
                        <div class="single-prd-item">
                            <figure class="zoom" style="background:url(/Public/img/product/@product.Image)" onmousemove="zoom(event)" ontouchmove="zoom(event)">
                                <img class="img-fluid img-move" src="~/Public/img/product/@product.Image" alt="">
                            </figure>
                        </div>
                    </div>
                    <div class="col-lg-5 offset-lg-1">
                        <div class="s_product_text">
                            <h1>@product.Name</h1>
                            <h2>@string.Format("{0:0,00}", @product.SalePrice)<sup>đ</sup></h2>
                            <del class="text-danger"><span class="danger card-product__price text-danger">@string.Format("{0:0,00}", @product.Price)</span></del><sup>đ</sup>
                            <ul class="list">
                                <li><a class="active" href="@product.CategorySlug">Loại sản phẩm: @product.CatName</a></li>
                                <li>Nhà cung cấp: @product.SupplierName</li>
                                <li>Số lượng có sẵn: @product.Amount</li>
                            </ul>
                            <p>
                                @product.MetaDesc
                            </p>
                            <div class="product_count">
                                <label for="qty" class="fs-3">Số lượng:</label>
                                <div class="input-group">
                                    <input type="text" name="qty" id="sst" size="2" maxlength="12" value="1" title="Quantity:" class="input-text qty">
                                    <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst )) result.value++;return false;"
                                            class="increase items-count" type="button">
                                        <i class="ti-angle-up"></i>
                                    </button>
                                    <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst ) &amp;&amp; sst > 0 ) result.value--;return false;"
                                            class="reduced items-count" type="button">
                                        <i class="ti-angle-down"></i>
                                    </button>
                                </div>
                            </div>
                            <a href="@Url.Action("AddCart","Giohang", new { productid = product.Id})" class="button primary-btn mx-5">
                                <span class="custom-button">
                                    Thêm vào giỏ hàng
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--================End Single Product Area =================-->
    }

    <!-- ================Start related Product area =================-->
    <section class="related-product-area section-margin--small mt-4">
        <div class="container">
            <div class="section-intro pb-60px">
                <h2>Sản phẩm <span class="section-intro__style">cùng loại</span></h2>
            </div>
            <div class="row mt-30">
                @foreach (var item in ViewBag.RelatedProducts)
                {
                    <div class="col-sm-6 col-xl-3 mb-4 mb-xl-0">
                        <div class="single-search-product-wrapper">
                            <div class="single-search-product d-flex" style="min-height:140px">
                                <a href="#"><img src="~/Public/img/product/@item.Image" alt=""></a>
                                <div class="desc">
                                    <a href="@item.Slug" class="title">@item.Name</a>
                                    <h5>@string.Format("{0:0,00}", @item.Price)<sup>đ</sup></h5>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </section>
    <!--================ end related Product area =================-->
    <script src="vendors/jquery/jquery-3.2.1.min.js"></script>
    <script src="vendors/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="vendors/skrollr.min.js"></script>
    <script src="vendors/owl-carousel/owl.carousel.min.js"></script>
    <script src="vendors/nice-select/jquery.nice-select.min.js"></script>
    <script src="vendors/jquery.ajaxchimp.min.js"></script>
    <script src="vendors/mail-script.js"></script>
    <script src="js/main.js"></script>
    <!--Zome Image-->
    <script>
        function zoom(e) {
            var zoomer = e.currentTarget;
            e.offsetX ? offsetX = e.offsetX : offsetX = e.touches[0].pageX
            e.offsetY ? offsetY = e.offsetY : offsetX = e.touches[0].pageX

            x = (offsetX / zoomer.offsetWidth) * 100;
            y = (offsetY / zoomer.offsetHeight) * 100;
            zoomer.style.backgroundPosition = x + "% " + y + "%";
        }
    </script>
</body>
